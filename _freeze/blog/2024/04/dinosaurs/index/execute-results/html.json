{
  "hash": "fc5a6039bfd2ef97c3d3b758ad18c28e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Animating the Datasaurus dataset as part of the _30 Day Chart Challenge_\"\ndate: 2024-04-19\ndescription: \"Dinosaurs and correlation coefficients\"\ncategories:\n - visualization\n - ChartChallenge\n - r\nformat:\n  html:\n    css: styles.css\n    code-fold: true\n    code-tools: true\n    code-overflow: wrap\n    code-line-numbers: true\n#doi: \ncitation: true\ndraft: false\n---\n\n\n\n\nThe [`#30DayChartChallenge`](https://nightingaledvs.com/the-30daychartchallenge-year-three/) is a data visualization community that hosts daily challenges for April. Today's challenge involves dinosaurs. I used the `Datasaurus` package to create an animated visualization to demonstrate the importance of graphing data, and the effects of outliers on statistical properties.  In these datasets, the mean and the standard deviation of $x$ and $y$ remain almost the same, but the distribution of observation pairs goes through obvious drastic changes. \n\n\n::: {.cell messages='false'}\n\n```{.r .cell-code}\n## -------------------------------------- ##\n## Day 19: Dinosaurs; 30DayChartChallenge ##\n## -------------------------------------- ##\n## Loading libs                           ##\nlibrary(datasauRus)                       ##\nlibrary(tidyverse)                        ##\nlibrary(gganimate)                        ##                                                    \nlibrary(showtext)                         ##\n## -------------------------------------- ##\n\n# Setting custom theme for ggplot2 graphics\n\nclrs <- c( # Creating custom color palette\n  \"#e5b858\", #  yellow\n  \"#B72025\", #  red\n  \"#7C225C\", #  purple\n  \"#d3d6d9\", #  dark gray\n  \"#f9f9f9\", #  light gray\n  \"#394DAA\") #  blue\n\n# Import Fonts (google name, R name)\nfont_add_google(\"Source Code Pro\",\"source_code\")\nfont_add_google(\"Montserrat\",\"mont\")\nshowtext_auto() # enable showtext font rendering\n\ntheme_blue <- function() {\n  theme_minimal(base_family = \"mont\") +\n  theme(\n    plot.title = element_text(family = \"mont\", face = \"bold\", size = rel(1.35)),\n    plot.subtitle = element_text(family = \"mont\", colour = \"royalblue\", face = \"plain\", size = rel(1)),\n    plot.background = element_rect(fill = clrs[5], colour = clrs[5]),\n    panel.border = element_blank(),\n    panel.background = element_rect(fill = clrs[5]),\n    panel.grid.major.x = element_line(colour = clrs[6], linetype = 3, linewidth = .35),\n    panel.grid.minor.x = element_blank(),\n    panel.grid.major.y =  element_line(colour = clrs[6], linetype = 3, linewidth = .35),\n    panel.grid.minor.y = element_blank(),\n    # modify text, axis and colour 4) and 5)\n    axis.text = element_text(colour = clrs[6], face = \"plain\", family = \"mont\"),\n    axis.title = element_text(colour = clrs[6], family = \"mont\"),\n    axis.ticks = element_line(colour = clrs[6]),\n    # legend at the bottom 6)\n    legend.position = \"none\"\n  )\n}\n\ntheme_set(theme_blue())\n\nggplot2::update_geom_defaults(\"label\", list(family = \"mont\", fontface = \"bold\"))\nggplot2::update_geom_defaults(\"text\", list(family = \"mont\", fontface = \"plain\"))\n\n\n# Checking min/max for axis transform\ndatasaurus <- datasaurus_dozen\nsummary(datasaurus)\n\ndino <- ggplot(datasaurus, aes(x = x, y = y))+\n  geom_point(size = 3, alpha = .65, \n             colour = clrs[3]) +\n  labs(x = NULL,y = NULL,\n       title = \"Day 19 of 30 Day Chart Challenge\",\n       subtitle = \"The T-rex\",\n       caption = \"Always check your data graphically\") +\n  theme_blue() +\n  transition_states(states = dataset,\n                    transition_length = 2,\n                    state_length = 1,\n                    wrap = TRUE) +\n  ease_aes(\"linear\")\n\nanimate(dino, duration = 15, fps = 24, height = 680, width = 720,\n        renderer = gifski_renderer())\n\nanim_save(filename = \"dino.gif\",\n          path = here::here(\"blog\",\"2024\",\"04\",\"dinosaurs\",\"img\"))\n```\n:::\n\n```{=html}\n<img src=\"img/dino.gif\" alt=\"Datasaurus Day 19 Chart Challenge 2024\">\n\n```\n\n::: {.cell .tbl-cap-location-margin tbl-cap='Mean & Standard Deviation of *x* and *y*' tbl-colwidths='[50,50]'}\n\n```{.r .cell-code}\nlibrary(datasauRus) \nlibrary(knitr)\nlibrary(tidyverse)\n\ndatasaurus <- datasaurus_dozen\ngroup_datasaurus <- datasaurus %>%\n  group_by(dataset) %>% \n  summarize(avg_x = round(mean(x),3), \n            stdev_x = round(sd(x),3), \n            avg_y = round(mean(y),3), \n            stdev_y = round(sd(y),3))\nknitr::kable(group_datasaurus,\n             col.names = c('Data', 'Mean(x)','SD(x)','Mean(y)','SD(y)'))\n```\n\n::: {.cell-output-display}\n\n\n|Data       | Mean(x)|  SD(x)| Mean(y)|  SD(y)|\n|:----------|-------:|------:|-------:|------:|\n|away       |  54.266| 16.770|  47.835| 26.940|\n|bullseye   |  54.269| 16.769|  47.831| 26.936|\n|circle     |  54.267| 16.760|  47.838| 26.930|\n|dino       |  54.263| 16.765|  47.832| 26.935|\n|dots       |  54.260| 16.768|  47.840| 26.930|\n|h_lines    |  54.261| 16.766|  47.830| 26.940|\n|high_lines |  54.269| 16.767|  47.835| 26.940|\n|slant_down |  54.268| 16.767|  47.836| 26.936|\n|slant_up   |  54.266| 16.769|  47.831| 26.939|\n|star       |  54.267| 16.769|  47.840| 26.930|\n|v_lines    |  54.270| 16.770|  47.837| 26.938|\n|wide_lines |  54.267| 16.770|  47.832| 26.938|\n|x_shape    |  54.260| 16.770|  47.840| 26.930|\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}