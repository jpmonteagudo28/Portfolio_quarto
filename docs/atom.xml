<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>JP&#39;s blog</title>
<link>https://www.jpmonteagudo.com/atom.html</link>
<atom:link href="https://www.jpmonteagudo.com/atom.xml" rel="self" type="application/rss+xml"/>
<description>JP&#39;s blog</description>
<language>en</language>
<generator>quarto-1.5.41</generator>
<lastBuildDate>Fri, 19 Apr 2024 04:00:00 GMT</lastBuildDate>
<item>
  <title>Animating the Datasaurus dataset as part of the 30 Day Chart Challenge</title>
  <dc:creator>JP Monteagudo</dc:creator>
  <link>https://www.jpmonteagudo.com/blog/2024/04/dinosaurs/</link>
  <description><![CDATA[ <section id="visualization-pearsons-correlation-coefficient" class="level2"><h2 class="anchored" data-anchor-id="visualization-pearsons-correlation-coefficient">Visualization &amp; Pearson’s correlation coefficient</h2>
<p>The <a href="https://nightingaledvs.com/the-30daychartchallenge-year-three/"><code>30DayChartChallenge</code></a> is a data visualization community that hosts daily challenges for April. Today’s challenge involves dinosaurs. I used the <code>Datasaurus</code> package to create an animated visualization to demonstrate the importance of graphing data, and the effects of outliers on statistical properties. In these datasets, the mean and the standard deviation of <img src="https://latex.codecogs.com/png.latex?x"> and <img src="https://latex.codecogs.com/png.latex?y"> remain almost the same, but the distribution of observation pairs goes through obvious drastic changes.</p>
</section><section id="measures-of-central-tendency" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="measures-of-central-tendency">Measures of Central Tendency</h2>
<div class="cell page-columns page-full" data-tbl-colwidths="[50,50]">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1" data-cap-location="margin" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(datasauRus) </span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(knitr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-4"></span>
<span id="cb1-5">datasaurus <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> datasaurus_dozen</span>
<span id="cb1-6">group_datasaurus <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> datasaurus <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(x), </span>
<span id="cb1-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stdev =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(x), </span>
<span id="cb1-9">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(y), </span>
<span id="cb1-10">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stdev_y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(y))</span>
<span id="cb1-11"></span>
<span id="cb1-12">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(group_datasaurus,</span>
<span id="cb1-13">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col.names =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Mean(x)'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SD(x)'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Mean(y)'</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'SD(y)'</span>))</span></code></pre></div>
</details><div class="cell-output-display page-columns page-full">
<table class="caption-top table table-sm table-striped small">

<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead><tr class="header">
<th style="text-align: right;">Mean(x)</th>
<th style="text-align: right;">SD(x)</th>
<th style="text-align: right;">Mean(y)</th>
<th style="text-align: right;">SD(y)</th>
</tr></thead>
<tbody><tr class="odd">
<td style="text-align: right;">54.2657</td>
<td style="text-align: right;">16.713</td>
<td style="text-align: right;">47.8351</td>
<td style="text-align: right;">26.84777</td>
</tr></tbody>
</table>
<div class="quarto-table-caption margin-caption">Mean &amp; Standard Deviation of <em>x</em> and <em>y</em> remain equal for each dataset</div></div>
</div>
<div class="cell" data-messages="false">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## -------------------------------------- ##</span></span>
<span id="cb2-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Day 19: Dinosaurs; 30DayChartChallenge ##</span></span>
<span id="cb2-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## -------------------------------------- ##</span></span>
<span id="cb2-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Loading libs                           ##</span></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(datasauRus)                       <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)                        <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gganimate)                        <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                                                    </span></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(showtext)                         <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-9"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## -------------------------------------- ##</span></span>
<span id="cb2-10"></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Setting custom theme for ggplot2 graphics</span></span>
<span id="cb2-12"></span>
<span id="cb2-13">clrs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>( <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creating custom color palette</span></span>
<span id="cb2-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#e5b858"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  yellow</span></span>
<span id="cb2-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#B72025"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  red</span></span>
<span id="cb2-16">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#7C225C"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  purple</span></span>
<span id="cb2-17">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#d3d6d9"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  dark gray</span></span>
<span id="cb2-18">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#f9f9f9"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  light gray</span></span>
<span id="cb2-19">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#394DAA"</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  blue</span></span>
<span id="cb2-20"></span>
<span id="cb2-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Import Fonts (google name, R name)</span></span>
<span id="cb2-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">font_add_google</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Source Code Pro"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"source_code"</span>)</span>
<span id="cb2-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">font_add_google</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Montserrat"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>)</span>
<span id="cb2-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">showtext_auto</span>() <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># enable showtext font rendering</span></span>
<span id="cb2-25"></span>
<span id="cb2-26">theme_blue <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>() {</span>
<span id="cb2-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-28">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb2-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rel</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.35</span>)),</span>
<span id="cb2-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.subtitle =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"royalblue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plain"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rel</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)),</span>
<span id="cb2-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]),</span>
<span id="cb2-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb2-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]),</span>
<span id="cb2-34">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>),</span>
<span id="cb2-35">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb2-36">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major.y =</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>),</span>
<span id="cb2-37">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.minor.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb2-38">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># modify text, axis and colour 4) and 5)</span></span>
<span id="cb2-39">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plain"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>),</span>
<span id="cb2-40">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>], <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>),</span>
<span id="cb2-41">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]),</span>
<span id="cb2-42">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># legend at the bottom 6)</span></span>
<span id="cb2-43">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span></span>
<span id="cb2-44">  )</span>
<span id="cb2-45">}</span>
<span id="cb2-46"></span>
<span id="cb2-47"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_set</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_blue</span>())</span>
<span id="cb2-48"></span>
<span id="cb2-49">ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">update_geom_defaults</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"label"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fontface =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>))</span>
<span id="cb2-50">ggplot2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">update_geom_defaults</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mont"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fontface =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plain"</span>))</span>
<span id="cb2-51"></span>
<span id="cb2-52"></span>
<span id="cb2-53"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Checking min/max for axis transform</span></span>
<span id="cb2-54">datasaurus <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> datasaurus_dozen</span>
<span id="cb2-55"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(datasaurus)</span>
<span id="cb2-56"></span>
<span id="cb2-57">dino <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(datasaurus, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-58">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">65</span>, </span>
<span id="cb2-59">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colour =</span> clrs[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>]) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-60">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-61">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Day 19 of 30 Day Chart Challenge"</span>,</span>
<span id="cb2-62">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The T-rex"</span>,</span>
<span id="cb2-63">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Always check your data graphically"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-64">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_blue</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-65">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_states</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">states =</span> dataset,</span>
<span id="cb2-66">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">transition_length =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,</span>
<span id="cb2-67">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">state_length =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb2-68">                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">wrap =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-69">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ease_aes</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linear"</span>)</span>
<span id="cb2-70"></span>
<span id="cb2-71"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(dino, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">680</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">720</span>,</span>
<span id="cb2-72">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">renderer =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gifski_renderer</span>())</span>
<span id="cb2-73"></span>
<span id="cb2-74"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anim_save</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">filename =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dino.gif"</span>,</span>
<span id="cb2-75">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">path =</span> here<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"04"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dinosaurs"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"img"</span>))</span></code></pre></div>
</details>
</div>
</section><section id="the-animated-data" class="level2"><h2 class="anchored" data-anchor-id="the-animated-data">The Animated Data</h2>
<img src="https://www.jpmonteagudo.com/blog/2024/04/dinosaurs/img/dino.gif" alt="Datasaurus Day 19 Chart Challenge 2024">

<!-- -->

</section><div id="quarto-appendix"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-monteagudo2024" class="csl-entry quarto-appendix-citeas">
Monteagudo, JP. 2024. <span>“Animated Datasaurus—30 Day Chart
Challenge.”</span> April 19, 2024. <a href="https://doi.org/10.59350/wx5k1-ajc38">https://doi.org/10.59350/wx5k1-ajc38</a>.
</div></div></section></div> ]]></description>
  <guid>https://www.jpmonteagudo.com/blog/2024/04/dinosaurs/</guid>
  <pubDate>Fri, 19 Apr 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>beautiful movement—lissajous curves</title>
  <dc:creator>JP Monteagudo</dc:creator>
  <link>https://www.jpmonteagudo.com/blog/2024/04/lissajous/</link>
  <description><![CDATA[ <section id="lissajous-curves" class="level2"><h2 class="anchored" data-anchor-id="lissajous-curves">Lissajous Curves</h2>
<p>Lissajous curves are created by plotting two oscillations on perpendicular axes <img src="https://latex.codecogs.com/png.latex?x"> and <img src="https://latex.codecogs.com/png.latex?y">​​​. These oscillations, represented by sinusoidal functions, intersect to create different patterns. When the ratio of these frequencies is equal to <img src="https://latex.codecogs.com/png.latex?1">— the oscillations are equally phased— the curve is a straight line. When the frequencies on both axes differ, the oscillations are out of phase—one moves faster than the other at a specific angle—and our Lissajous figure will show a curve. Each frequency produces a specific musical note that will intercept and either form a pleasant sound, harmonious consonance or discordance. Consonant notes have a perfect ratio.</p>
</section><section id="music-perfect-ratios" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="music-perfect-ratios">Music &amp; Perfect Ratios</h2>
<p>Think of a guitar string vibrating at a base frequency of <img src="https://latex.codecogs.com/png.latex?329%20Hz">—<img src="https://latex.codecogs.com/png.latex?329"> cycles per second. By altering our position along the string, we change the frequency and thus produce different notes. If we moved from the nut (fret <img src="https://latex.codecogs.com/png.latex?0">) to between frets <img src="https://latex.codecogs.com/png.latex?11"> and <img src="https://latex.codecogs.com/png.latex?12"> and plucked the string, the frequency would now be twice as high—we call this an octave. If we moved <img src="https://latex.codecogs.com/png.latex?3/4"> down from the nut, our new note would oscillate at three times the frequency of E4(<img src="https://latex.codecogs.com/png.latex?329Hz">). We can produce an infinite amount of notes by moving along the string and altering the speed of the oscillations. <em>You are creating music with movement!</em></p>
<section id="theory-of-just-intonation" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="theory-of-just-intonation">Theory of Just Intonation</h3>
<p>However, keeping track of an infinite, unordered sequence of notes is impossible; instead, we use systems that allow us to measure and obtain the frequency of a small number of notes. One such system is called “just intonation” and a commonly seen tuning method is 5-limit tuning. This method allows us to find the exact, pure frequency of other notes by multiplying our base frequency by products of the power of prime numbers <img src="https://latex.codecogs.com/png.latex?2">, <img src="https://latex.codecogs.com/png.latex?3">, and <img src="https://latex.codecogs.com/png.latex?5"> (e.g., <img src="https://latex.codecogs.com/png.latex?2%5E%7B-1%7D%20%5Ccdot%203%5E%7B1%7D%20%5Ccdot%205%5E%7B1%7D">).<sup>1</sup></p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;In 5–limit tuning we only multiply integers to obtain other musical notes.</p></div><div id="fn2"><p><sup>2</sup>&nbsp;octaves: <img src="https://latex.codecogs.com/png.latex?f_%7Bx%7D%20=%202%5E%7Bk%7D">; perfect fifths: <img src="https://latex.codecogs.com/png.latex?3%5E%7Bk%7D">, major thirds: <img src="https://latex.codecogs.com/png.latex?5%5E%7Bk%7D,k%20%5Cin%20%5Cmathbb%7BZ%7D">.</p></div><div id="fn3"><p><sup>3</sup>&nbsp;Sometimes the resulting note is outside our octave, and we simply divide it by two and bring it back to our interval.</p></div></div><div class="line-block">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We call the sinusoidal movements in intervals of powers of <img src="https://latex.codecogs.com/png.latex?2"> – octaves, powers of <img src="https://latex.codecogs.com/png.latex?3"> represent perfect fifths, and powers of <img src="https://latex.codecogs.com/png.latex?5"> are called major thirds<sup>2</sup>. By multiplying our base frequency by different combinations of these powers,<sup>3</sup> we get sets of harmoniously consonant and discordant notes.</div>
</section><section id="the-perfect-ratios" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="the-perfect-ratios">The Perfect ratios</h3>
<p>So how can we make sure every note is consonant? Thankfully, the ancient Greeks discovered a way to create beautifully sounding and naturally occurring notes using perfect<sup>4</sup> ratios for octaves, major fifths, and major thirds. These perfect ratios make music blend, flow, and feel “right”. These are the ratios that create all of the Lissajous figures we’ll explore today.</p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;perfect refers to ratios that produce “just” or “pure” melodic sounds.</p></div></div><div class="cell tbl-cap-location-bottom" data-layout-align="center" data-tbl-colwidths="[50,50]">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1" data-cap-location="bottom" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1">ratios <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"9/8"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"5/4"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"4/3"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3/2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"5/3"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"15/8"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">240</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">270</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">320</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">360</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">450</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">480</span>)</span>
<span id="cb1-2">cols <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"D"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"A"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"B"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C'"</span>)</span>
<span id="cb1-3">rows <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Perfect Ratios"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Frequency(in Hz)"</span>)</span>
<span id="cb1-4">perfect_ratios <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matrix</span>(ratios, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">byrow =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(perfect_ratios) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> cols</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rownames</span>(perfect_ratios) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> rows</span>
<span id="cb1-7">perfect_ratios</span>
<span id="cb1-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                  C     D     E     F     G     A     B      C'   </span></span>
<span id="cb1-9"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Perfect Ratios   "1"   "9/8" "5/4" "4/3" "3/2" "5/3" "15/8" "2"  </span></span>
<span id="cb1-10"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Frequency(in Hz) "240" "270" "300" "320" "360" "400" "450"  "480"</span></span>
<span id="cb1-11">knitr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>(perfect_ratios)</span></code></pre></div>
</details><div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Perfect ratios in Just Intonation using 5-limit tuning method</caption>
<colgroup>
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">C</th>
<th style="text-align: left;">D</th>
<th style="text-align: left;">E</th>
<th style="text-align: left;">F</th>
<th style="text-align: left;">G</th>
<th style="text-align: left;">A</th>
<th style="text-align: left;">B</th>
<th style="text-align: left;">C’</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Perfect Ratios</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">9/8</td>
<td style="text-align: left;">5/4</td>
<td style="text-align: left;">4/3</td>
<td style="text-align: left;">3/2</td>
<td style="text-align: left;">5/3</td>
<td style="text-align: left;">15/8</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">Frequency(in Hz)</td>
<td style="text-align: left;">240</td>
<td style="text-align: left;">270</td>
<td style="text-align: left;">300</td>
<td style="text-align: left;">320</td>
<td style="text-align: left;">360</td>
<td style="text-align: left;">400</td>
<td style="text-align: left;">450</td>
<td style="text-align: left;">480</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section><section id="the-code-animation" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="the-code-animation">The Code &amp; Animation</h2>
<p>We’ll create the Lissajous curves using two sinusoidal waves on different phases <sup>5</sup>. The numerator of the perfect ratio will be the coefficient <img src="https://latex.codecogs.com/png.latex?a"> of the <img src="https://latex.codecogs.com/png.latex?sin"> function, <img src="https://latex.codecogs.com/png.latex?sin(t)%20=%20sin(at%20+%20%5Cdelta)">, and the denominator <img src="https://latex.codecogs.com/png.latex?b"> will go to the <img src="https://latex.codecogs.com/png.latex?y"> coordinate <img src="https://latex.codecogs.com/png.latex?sin(t)%20=%20sin(bt)">. We’ll define our interval from <img src="https://latex.codecogs.com/png.latex?0"> to <img src="https://latex.codecogs.com/png.latex?2%5Cpi">.​​</p>
<div class="no-row-height column-margin column-container"><div id="fn5"><p><sup>5</sup>&nbsp;the curves can also be created with <img src="https://latex.codecogs.com/png.latex?sin(t)"> and <img src="https://latex.codecogs.com/png.latex?cos(t)"> functions since <img src="https://latex.codecogs.com/png.latex?cos(t)%20=%20sin(t%20+%20%5Cfrac%7B%5Cpi%7D%7B2%7D)">, but the phase difference will now be <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7Ba%7D%7Bb%7D*%5Cfrac%7B%5Cpi%7D%7B2%7D">.</p></div></div><div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Helpful Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can familiarize yourself with Lissajous figures and their sine functions by using this <a href="https://dood.al/oscilloscope/">interactive virtual oscilloscope</a>.</p>
</div>
</div>
<div class="line-block">&nbsp;&nbsp;&nbsp;&nbsp;Using the <code>gganimate</code> package in <code>RStudio</code>, we’ll build a data frame with a set number of times steps between <img src="https://latex.codecogs.com/png.latex?0"> and <img src="https://latex.codecogs.com/png.latex?2%5Cpi">​; and the figures with coordinates for each perfect ratio. Then, we’ll stitch each plot with the time steps and coordinates to get a final <img src="https://latex.codecogs.com/png.latex?8%20%C3%97%208"> animated plot.</div>
<div class="cell" data-layout-align="center">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## ------------------------------- ##</span></span>
<span id="cb2-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Creating Lissajous figures      ##</span></span>
<span id="cb2-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## ------------------------------- ##</span></span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gganimate)<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Loading libs   ##</span></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)                 <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(here)                      <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(av)                        <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##</span></span>
<span id="cb2-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## ------------------------------- ##</span></span>
<span id="cb2-9"></span>
<span id="cb2-10">params <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb2-11">  id <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># no. of steps</span></span>
<span id="cb2-12">  t <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>pi, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">length.out =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># equally spaced intervals 0-2*pi</span></span>
<span id="cb2-13">)</span>
<span id="cb2-14"></span>
<span id="cb2-15">figs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(t){</span>
<span id="cb2-16">  x1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># We're only using perfect ratios</span></span>
<span id="cb2-17">  y1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-18">  </span>
<span id="cb2-19">  x2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)</span>
<span id="cb2-20">  y2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb2-21">  </span>
<span id="cb2-22">  x3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb2-23">  y3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb2-24">  </span>
<span id="cb2-25">  x4 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb2-26">  y4 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb2-27">  </span>
<span id="cb2-28">  x5 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb2-29">  y5 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb2-30">  </span>
<span id="cb2-31">  x6 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb2-32">  y6 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb2-33">  </span>
<span id="cb2-34">  x7 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>)</span>
<span id="cb2-35">  y7 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb2-36">  </span>
<span id="cb2-37">  x8 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb2-38">  y8 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sin</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-39">  </span>
<span id="cb2-40">  time <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq_along</span>(t)</span>
<span id="cb2-41">  </span>
<span id="cb2-42">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>( <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create df with x, y variables accross time</span></span>
<span id="cb2-43">    time, </span>
<span id="cb2-44">    x1, x2, x3, x4, x5, x6, x7, x8,</span>
<span id="cb2-45">    y1, y2, y3, y4, y5, y6, y7, y8</span>
<span id="cb2-46">  )</span>
<span id="cb2-47">}</span>
<span id="cb2-48"></span>
<span id="cb2-49">actual_figs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">figs</span>(params<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>t)</span>
<span id="cb2-50"></span>
<span id="cb2-51">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bind_cols</span>(params, actual_figs) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bind two dfs</span></span>
<span id="cb2-52">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everything</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make data long</span></span>
<span id="cb2-53">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(x1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>x8, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x_group"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-54">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(y1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>y8, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y_group"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-55">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x_group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(x_group, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"x"</span>),</span>
<span id="cb2-56">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y_group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(y_group, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-57">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unite</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"group_id"</span>, x_group, y_group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">remove =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb2-58"></span>
<span id="cb2-59">plot <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-60">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> group_id, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> group_id)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-61">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-62">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_path</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-63">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_grid</span>(x_group <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> y_group) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-64">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_equal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-65">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">guides</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-66">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_void</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-67">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">transition_reveal</span>(time) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-68">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ease_aes</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linear"</span>)</span>
<span id="cb2-69"></span>
<span id="cb2-70"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">animate</span>(plot, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fps =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1080</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1080</span>,</span>
<span id="cb2-71">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">renderer =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">av_renderer</span>())</span>
<span id="cb2-72"></span>
<span id="cb2-73"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anim_save</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">filename =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lissajous_figs.mp4"</span>,</span>
<span id="cb2-74">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">path =</span> here<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"04"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lissajous"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"documents"</span>),</span>
<span id="cb2-75">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1080</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1080</span>)</span>
<span id="cb2-76"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#| Code adapted from Kieran Healy's blog "Pi Day Circles"</span></span></code></pre></div>
</details>
</div>
</section><section id="the-final-product" class="level2"><h2 class="anchored" data-anchor-id="the-final-product">The Final Product</h2>
<p>Here’s the final, animated <img src="https://latex.codecogs.com/png.latex?8%C3%978"> plot displaying Lissajous figures using only the perfect ratios.</p>
<video autoplay="" loop="" muted="" playsinline="" controls="" width="100%" style="display: block; margin:auto;"><source src="documents/lissajous_figs.mp4" type="video/mp4"></video>

<!-- -->

</section><div id="quarto-appendix"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-monteagudo2024" class="csl-entry quarto-appendix-citeas">
Monteagudo, JP. 2024. <span>“Beautiful Movement—Lissajous
Curves.”</span> April 15, 2024. <a href="https://doi.org/10.59350/y9kmp-zqh66">https://doi.org/10.59350/y9kmp-zqh66</a>.
</div></div></section></div> ]]></description>
  <guid>https://www.jpmonteagudo.com/blog/2024/04/lissajous/</guid>
  <pubDate>Mon, 15 Apr 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Don’t be an absolutist. Use the here package for reproducible workflows</title>
  <dc:creator>JP Monteagudo</dc:creator>
  <link>https://www.jpmonteagudo.com/blog/2024/03/here/</link>
  <description><![CDATA[ <section id="tldr" class="level2"><h2 class="anchored" data-anchor-id="tldr">TL;DR</h2>
<p>Don’t be an absolutist– use relative paths. Use the <code>here</code> <a href="https://here.r-lib.org/">package</a> instead of <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> or <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> to increase reproducibility and avoid wasting your and other people’s time.</p>
</section><section id="whats-the-problem-with-setwd" class="level2"><h2 class="anchored" data-anchor-id="whats-the-problem-with-setwd">What’s the problem with <code>setwd()</code>?</h2>
<p>Since I created this website, I’ve been coding, writing, and reading a lot more which has unequivocally led to a mountain of new files and the forging of new paths– quite literally. At first, I kept things pretty organized, but now it’s nearly impossible to know where I saved <code>such_and_such.txt</code> file without wasting at least 5 minutes of my day.</p>
<p>This is what I used to do:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">url1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://somefile_online_data_source_here.com"</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">url1</span>, destfile <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"./data_file_here.zip"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/utils/unzip.html">unzip</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data_file_here.zip"</span>, exdir <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">Dat</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"summaryDat.rds"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">Dat2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SummaryDat2.rds"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span></code></pre></div>
</div>
<p>My directory will be anywhere on my device unless I have previously specified it using <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>, but this strategy will soon be an obstacle to saving new information in an organized and reproducible way. If, later on, I change my <code>R</code> scripts to a different folder the original file path won’t work anymore.</p>
</section><section id="here-is-the-solution" class="level2"><h2 class="anchored" data-anchor-id="here-is-the-solution">
<code>here</code> is the solution 📁</h2>
<p>The <code>here</code> package allows you to set up a relative path mapped onto your R project directory on every device regardless of your absolute path.</p>
<section id="the-here-function" class="level3"><h3 class="anchored" data-anchor-id="the-here-function">The <code>here</code> function</h3>
<p>Suppose my directory is located in the Project folder. The <code>here</code> package is going to look for the <code>.Rproj</code> file and establish the root directory there.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Project/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |__ data/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |___  summaryDat.rds</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |___  summaryDat2.rds</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |__ blog/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |_____index.qmd</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |__ post/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    | |______ 2024/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |       |____ 02/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |          |____  index.qmd</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |              |____  dat3.R</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |    |__ img/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |      |_____  plots.png</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#    |__ scripts/</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#      |____ ind.R</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#      |____ cond.R</span></span></code></pre></div>
</div>
<p>Here you can see my root directory and how that changes with each iteration of the <code>here</code> command.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org/">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project"</span></span>
<span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project/blog"</span></span>
<span>  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"scripts"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project/scripts"</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># I'll point R to the actual document by providing the full relative path</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"post"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"02"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dat3.R"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project/blog/post/2024/02/dat3.R"</span></span></code></pre></div>
</div>
<p>I can also go up several folders at once by using the full relative path. However, when I call the <code>here</code> function again, it sends me back to my root directory.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project"</span></span></code></pre></div>
</div>
<p>I would use the <code>here</code> function to get or write files and not just be there. If I don’t need anything from my subdirectory, then <code>R</code> will go back to its root, the <code>.Rproj</code>. For example, saving a <code>.png</code> file with multiple plots involves specifying the relative path using <code><a href="https://here.r-lib.org//reference/here.html">here::here()</a></code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## Using ggplot2 to save my plots</span></span>
<span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggsave</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plots.png"</span>,<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">arranged_plots</span>, </span>
<span>       path <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"02"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"post"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"img"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span>,</span>
<span>                width <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span>,</span>
<span>                height <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">600</span>,</span>
<span>                units <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px"</span>,</span>
<span>                dpi <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">72</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">## The same can be done using base R</span></span>
<span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/grDevices/dev2.html">dev.copy</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">png</span>,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"02"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clt"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"img"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plots.png"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span>, width <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span>, height <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">600</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://rdrr.io/r/grDevices/dev.html">dev.off</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span></code></pre></div>
</div>
</section><section id="the-set_here-function" class="level3"><h3 class="anchored" data-anchor-id="the-set_here-function">The <code>set_here</code> function</h3>
<p>If I want to “just be somewhere” anytime I open my project, I would use another function– the <code>set_here</code> function. Basically, this function creates a <code>.here</code> file anywhere in your project so you can use this directory as your <code>root</code>. Here’s the description in the function’s syntax</p>
<blockquote class="blockquote">
<p>When <code>here</code> encounters such a file, it uses the directory that contains this file as root. This is useful if none of the default criteria apply. You need to restart the R session so that <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> picks up the newly created file.</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/set_here.html">set_here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blog/2024"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Created file .here in C:\Users\jpmonteagudo\Desktop\R\Project\blog\2024. </span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Please start a new R session in the new project directory.</span></span></code></pre></div>
</div>
<p>Next, I start a new <code>R</code> session here, and <code>RStudio</code> will automatically set my directory to this folder. I don’t need to open the <code>R</code> project to reach this new directory. It will give me access to the folder’s files, and I can then set a relative path to other files.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Checking directory in new R session</span></span>
<span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># [1] "C:/Users/jpmonteagudo/Desktop/R/Project/blog/2024"</span></span></code></pre></div>
</div>
<p>From this new directory, I can reach files anywhere by using the <code><a href="https://here.r-lib.org//reference/here.html">here::here()</a></code> function.</p>
</section><section id="the-confusing-i_am-function" class="level3"><h3 class="anchored" data-anchor-id="the-confusing-i_am-function">The confusing <code>i_am</code> function</h3>
<p>This function has given me a headache. The <code>here</code> package is supposed to be a tool that facilitates collaboration and connectivity, but I just couldn’t get it to work until now.</p>
<p>Call the <code><a href="https://here.r-lib.org//reference/i_am.html">here::i_am()</a></code> function at the top of your script in the first chunk of your markdown file. It will accept a relative path and then establish the new project root there. So far, it only works when I point R to a specific file I’d like to work with. If I choose a file path that’s not in my project directory, it will just point to the original directory and throw an error. If the current directory is outside of the project where the current script is running, you’ll get an error message: <code>Could not find associated project in working directory or any parent directory</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># You're in the scripts folder working on ind.R but need to access summaryDat2.rds.</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  Simply include the relative path to the data file at the top of your script:</span></span>
<span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;"><a href="https://readr.tidyverse.org">readr</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">data</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;"><a href="https://here.r-lib.org//reference/i_am.html">i_am</a></span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/summaryDat2.rds"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">)</span></span>
<span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># From my script I'm now pointing to a folder containing my Dat2.R</span></span></code></pre></div>
</div>
</section><section id="the-dr_here-function" class="level3"><h3 class="anchored" data-anchor-id="the-dr_here-function">The <code>dr_here</code> function</h3>
<p>The <code><a href="https://here.r-lib.org//reference/dr_here.html">here::dr_here()</a></code> shows a default message explaining why the current directory was chosen. You probably won’t use this function often– unless you’re curious and want to understand how the package selects the root directory. However, if you used <code>here::here("file_path")</code> and got an unexpected result, go ahead and call <code><a href="https://here.r-lib.org//reference/dr_here.html">here::dr_here</a></code>. It’ll most likely ask you to create a <code>.here</code> file or set your directory using the <code><a href="https://here.r-lib.org//reference/i_am.html">here::i_am()</a></code> function.</p>
<p>In the end, the <code>here</code> package will make it easy to collaborate and work on your projects on any device by using the <code><a href="https://here.r-lib.org//reference/i_am.html">here::i_am()</a></code>, <code><a href="https://here.r-lib.org//reference/here.html">here::here()</a></code>, and <code><a href="https://here.r-lib.org//reference/set_here.html">here::set_here()</a></code> functions.</p>


<!-- -->

</section></section><div id="quarto-appendix"><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-monteagudo2024" class="csl-entry quarto-appendix-citeas">
Monteagudo, JP. 2024. <span>“Don’t Be an Absolutist. Use the Here
Package.”</span> March 17, 2024. <a href="https://doi.org/10.59350/4a9fr-acc34">https://doi.org/10.59350/4a9fr-acc34</a>.
</div></div></section></div> ]]></description>
  <guid>https://www.jpmonteagudo.com/blog/2024/03/here/</guid>
  <pubDate>Sun, 17 Mar 2024 04:00:00 GMT</pubDate>
</item>
</channel>
</rss>
